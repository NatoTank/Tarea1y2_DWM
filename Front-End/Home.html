<!DOCTYPE html>
<html lang="es">
<head>
    <title>Chocomanía - Chocolatería Artesanal</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --choco-primary: #7B3F00;
            --choco-secondary: #A0522D;
            --choco-light: #f5e6d3;
            --choco-gold: #D4AF37;
        }

        body {
            font-family: 'Playfair Display', serif;
            background-color: #fff;
        }

        .top-bar {
            background: var(--choco-primary);
            color: white;
            padding: 8px 0;
            font-size: 0.9rem;
        }

        .navbar {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .navbar-brand img {
            height: 60px;
        }

        .nav-link {
            color: var(--choco-primary);
            font-weight: 500;
            padding: 0.5rem 1rem;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--choco-secondary);
        }

        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('chocolate-hero.jpg') center/cover;
            height: 80vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }

        .category-card {
            position: relative;
            overflow: hidden;
            border-radius: 0;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .category-card img {
            transition: transform 0.3s;
            height: 300px;
            object-fit: cover;
        }

        .category-card:hover img {
            transform: scale(1.05);
        }

        .category-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
        }

        .btn-choco {
            background: var(--choco-primary);
            color: white;
            padding: 12px 30px;
            border-radius: 0;
            border: none;
            transition: all 0.3s;
        }

        .btn-choco:hover {
            background: var(--choco-secondary);
            color: white;
            transform: translateY(-2px);
        }

        footer {
            background: var(--choco-primary);
            color: white;
            padding: 50px 0;
        }

        .section-title {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            color: var(--choco-primary);
            position: relative;
        }

        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background: var(--choco-gold);
            margin: 10px auto;
        }

        .featured-products {
            padding: 80px 0;
            background: var(--choco-light);
        }

        .product-card {
            background: white;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            margin-bottom: 30px;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
        }

        .product-price {
            color: var(--choco-primary);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .carousel-caption {
            background: rgba(0,0,0,0.6);
            padding: 20px;
            border-radius: 5px;
        }

        .carousel-item {
            height: 500px;
        }

        .carousel-item img {
            height: 100%;
            object-fit: cover;
        }

        .carousel-control-prev, .carousel-control-next {
            width: 5%;
        }

        .carousel-indicators button {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin: 0 5px;
        }

        .cart-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--choco-primary);
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }

        .cart-notification.show {
            transform: translateX(0);
        }

        /* Botón de acceso para repartidores */
        .driver-access-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--choco-primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            cursor: pointer;
            transition: all 0.3s;
        }

        .driver-access-btn:hover {
            background: var(--choco-secondary);
            transform: scale(1.1);
        }

        .password-modal .modal-header {
            background: var(--choco-primary);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Notificación de carrito -->
    <div class="cart-notification" id="cartNotification">
        <i class="fas fa-check-circle me-2"></i>
        <span id="notificationMessage">Producto añadido al carrito</span>
    </div>

    <!-- Botón de acceso para repartidores -->
    <button class="driver-access-btn" id="driverAccessBtn" title="Acceso Repartidores">
        <i class="fas fa-motorcycle"></i>
    </button>

    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container text-center">
            Envío gratis en pedidos sobre $50.000 en Santiago
        </div>
    </div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="CHOLATERIA CHOCOMANIA LOGO.png" alt="Chocomanía">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="Catalogo.html">Productos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="PromocionesActivas.html">Promociones</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Login.html">Crear Cuenta</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Datospersonales.html">Rellenar Datos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ActualizacionCatalogo.html">Stock</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="CancelacionPedido.html">Pedidos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ArmadoPedido.html">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="badge bg-danger" id="cartCount">0</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Inicio.html" title="Iniciar Sesión">
                            <i class="fas fa-user-circle" style="color: var(--choco-primary); font-size: 1.7rem;"></i>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>

    <!-- Carrusel -->
    <div id="chocoCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#chocoCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#chocoCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#chocoCarousel" data-bs-slide-to="2"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="ChocolateLeche.png" class="d-block w-100" alt="Chocolate de Leche">
                <div class="carousel-caption d-none d-md-block">
                    <h3>Chocolate de Leche Premium</h3>
                    <p>Nuestro chocolate de leche más cremoso y suave, elaborado con los mejores ingredientes.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="Bombones.png" class="d-block w-100" alt="Bombones">
                <div class="carousel-caption d-none d-md-block">
                    <h3>Bombones Artesanales</h3>
                    <p>Descubre nuestra exquisita selección de bombones rellenos con sabores únicos.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="Alfajores.png" class="d-block w-100" alt="Alfajores">
                <div class="carousel-caption d-none d-md-block">
                    <h3>Alfajores Tradicionales</h3>
                    <p>Dulces alfajores rellenos de manjar y cubiertos con nuestro chocolate premium.</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#chocoCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#chocoCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
        </button>
    </div>

    <!-- Categorías -->
    <section class="py-5">
        <div class="container">
            <h2 class="section-title">Nuestras Categorías</h2>
            <div class="row">
                <div class="col-md-4">
                    <div class="category-card">
                        <img src="Bombones.png" alt="Bombones" class="w-100">
                        <div class="category-overlay">
                            <h3>Bombones</h3>
                            <a href="FiltroCatalogo.html" class="btn btn-choco btn-sm">Ver más</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="category-card">
                        <img src="ChocolateAlmendras.png" alt="Tabletas" class="w-100">
                        <div class="category-overlay">
                            <h3>Tabletas</h3>
                            <a href="FiltroCatalogo.html" class="btn btn-choco btn-sm">Ver más</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="category-card">
                        <img src="Promociones.png" alt="Promociones" class="w-100">
                        <div class="category-overlay">
                            <h3>Promociones</h3>
                            <a href="PromocionesActivas.html" class="btn btn-choco btn-sm">Ver más</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Productos Destacados -->
    <section class="featured-products">
        <div class="container">
            <h2 class="section-title">Productos Destacados</h2>
            <div class="row">
                <div class="col-md-4">
                    <div class="product-card">
                        <img src="ChocolateLeche.png" alt="Chocolate de Leche">
                        <div class="product-info">
                            <h4>Chocolate de Leche Premium</h4>
                            <p>Delicioso chocolate de leche con 35% de cacao.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="product-price">$8.990</span>
                                <button class="btn btn-choco btn-sm" onclick="addToCart('Chocolate de Leche Premium', 8990, 'ChocolateLeche.png')">
                                    Añadir al carrito
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="product-card">
                        <img src="Bombones.png" alt="Caja de Bombones">
                        <div class="product-info">
                            <h4>Caja de Bombones Variados</h4>
                            <p>Selección de 12 bombones con rellenos exclusivos.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="product-price">$12.500</span>
                                <button class="btn btn-choco btn-sm" onclick="addToCart('Caja de Bombones Variados', 12500, 'Bombones.png')">
                                    Añadir al carrito
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="product-card">
                        <img src="Alfajores.png" alt="Alfajores">
                        <div class="product-info">
                            <h4>Alfajores Tradicionales</h4>
                            <p>Pack de 6 alfajores rellenos de manjar.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="product-price">$7.800</span>
                                <button class="btn btn-choco btn-sm" onclick="addToCart('Alfajores Tradicionales', 7800, 'Alfajores.png')">
                                    Añadir al carrito
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <a href="Catalogo.html" class="btn btn-choco">Ver Todos los Productos</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>Contacto</h5>
                    <p>Email: contacto@chocomania.cl</p>
                    <p>Teléfono: +56 2 2123 4567</p>
                    <p>Dirección: Av. Chocolate 123, Santiago</p>
                </div>
                <div class="col-md-4">
                    <h5>Enlaces Rápidos</h5>
                    <ul class="list-unstyled">
                        <li><a href="Catalogo.html" class="text-white">Productos</a></li>
                        <li><a href="PromocionesActivas.html" class="text-white">Promociones</a></li>
                        <li><a href="Login.html" class="text-white">Mi Cuenta</a></li>
                        <li><a href="EnvioPromociones.html" class="text-white">Suscribirse para recibir promociones</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Síguenos</h5>
                    <div class="social-links">
                        <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4 pt-3 border-top border-secondary">
                <p>&copy; 2023 Chocomanía - Chocolatería Artesanal. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Modal para contraseña de repartidor -->
    <div class="modal fade password-modal" id="driverPasswordModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-motorcycle me-2"></i>
                        Acceso Repartidores
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="driverPassword" class="form-label">Contraseña de acceso:</label>
                        <input type="password" class="form-control" id="driverPassword" placeholder="Ingresa la contraseña">
                    </div>
                    <div class="alert alert-info">
                        <small><i class="fas fa-info-circle me-2"></i>Solo para personal autorizado</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-choco" id="confirmDriverAccess">Acceder</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Función para inicializar el carrito
        function initializeCart() {
            if (!localStorage.getItem('chocomaniaCart')) {
                localStorage.setItem('chocomaniaCart', JSON.stringify([]));
            }
            updateCartCount();
        }

        // Función para añadir producto al carrito
        function addToCart(productName, price, image) {
            const cart = JSON.parse(localStorage.getItem('chocomaniaCart')) || [];
            
            // Verificar si el producto ya está en el carrito
            const existingProduct = cart.find(item => item.name === productName);
            
            if (existingProduct) {
                existingProduct.quantity += 1;
            } else {
                cart.push({
                    id: Date.now().toString(),
                    name: productName,
                    price: price,
                    image: image,
                    quantity: 1
                });
            }
            
            localStorage.setItem('chocomaniaCart', JSON.stringify(cart));
            updateCartCount();
            showNotification(`${productName} añadido al carrito`);
        }

        // Función para actualizar el contador del carrito
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('chocomaniaCart')) || [];
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = totalItems;
        }

        // Función para mostrar notificación
        function showNotification(message) {
            const notification = document.getElementById('cartNotification');
            const messageElement = document.getElementById('notificationMessage');
            
            messageElement.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Inicializar cuando la página carga
        document.addEventListener('DOMContentLoaded', function() {
            initializeCart();
            
            // Configurar modal de contraseña
            const driverPasswordModal = new bootstrap.Modal(document.getElementById('driverPasswordModal'));
            
            // Botón de acceso para repartidores
            document.getElementById('driverAccessBtn').addEventListener('click', function() {
                driverPasswordModal.show();
            });
            
            // Confirmar acceso
            document.getElementById('confirmDriverAccess').addEventListener('click', function() {
                const password = document.getElementById('driverPassword').value;
                
                if (password === '1234') {
                    // Redirigir directamente a SeguimientoDespacho.html
                    window.location.href = 'SeguimientoDespacho.html';
                } else {
                    alert('Contraseña incorrecta. Intenta con 1234');
                    document.getElementById('driverPassword').value = '';
                }
            });
            
            // Agregar event listeners a todos los botones de añadir al carrito
            const addToCartButtons = document.querySelectorAll('.btn-choco');
            addToCartButtons.forEach(button => {
                if (button.textContent.includes('Añadir al carrito')) {
                    button.addEventListener('click', function() {
                        const productCard = this.closest('.product-card');
                        const productName = productCard.querySelector('h4').textContent;
                        const productPrice = parseInt(productCard.querySelector('.product-price').textContent.replace('$', '').replace('.', ''));
                        const productImage = productCard.querySelector('img').src.split('/').pop();
                        
                        addToCart(productName, productPrice, productImage);
                    });
                }
            });
        });
    </script>
</body>
</html>